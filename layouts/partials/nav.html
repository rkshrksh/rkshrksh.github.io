{{ range .Site.Menus.main.ByWeight }}
  <a href="{{ .URL }}">{{ .Name }}</a>
{{ end }}
<a href='{{ absURL "index.xml" }}' class="rss-link" title="RSS Feed" aria-label="RSS Feed">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9"></path>
    <path d="M4 4a16 16 0 0 1 16 16"></path>
    <circle cx="5" cy="19" r="1"></circle>
  </svg>
</a>

<!-- Convert this page's translations into a dict -->
{{ $translations := dict }}
{{ range .Translations }}
  {{ $translations = merge $translations (dict .Language.Lang .) }}
{{ end }}

<!-- Create a link to every translation -->
{{ range where .Site.Languages "Lang" "!=" .Page.Lang }}
  {{ with (index $translations .Lang) }}
    <a href="{{ .RelPermalink }}">{{ .Language.LanguageName }}</a>
  {{ else }}
    <!-- The complicated setup was necessary to make a grayed out link -->
    {{ if not .Params.hideUntranslated }}
      <a class="disabled" role="link" aria-disabled="true">{{ .LanguageName }}</a>
    {{ end }}
  {{ end }}
{{ end }}
